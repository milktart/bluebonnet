<!-- Create Travel Companion Partial for Sidebar -->
<div>
  <!-- Header with Back Arrow -->
  <div class="flex items-center justify-between mb-6">
    <div class="flex items-center gap-2">
      <button onclick="goBackInSidebar()" class="p-1 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-md transition-colors" title="Go back">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
        </svg>
      </button>
      <h2 class="text-lg font-bold text-gray-900">Add Travel Companion</h2>
    </div>
    <button onclick="closeSecondarySidebar()" class="text-gray-400 hover:text-gray-600">
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
      </svg>
    </button>
  </div>

  <!-- Create Form -->
  <form id="create-companion-form" action="/companions" method="POST" class="space-y-4">
    <div>
      <label for="create-name" class="block text-sm font-medium text-gray-700 mb-1">Full Name *</label>
      <input type="text" id="create-name" name="name" required
             class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none">
      <p class="text-xs text-gray-500 mt-1">The full name of your travel companion</p>
    </div>

    <div>
      <label for="create-email" class="block text-sm font-medium text-gray-700 mb-1">Email Address *</label>
      <input type="email" id="create-email" name="email" required
             class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none">
      <p class="text-xs text-gray-500 mt-1">
        If they create an account with this email, they'll automatically see trips you've added them to
      </p>
    </div>

    <div>
      <label for="create-phone" class="block text-sm font-medium text-gray-700 mb-1">Phone Number</label>
      <input type="tel" id="create-phone" name="phone"
             class="w-full px-3 py-2 border border-gray-300 rounded-md text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none">
      <p class="text-xs text-gray-500 mt-1">Optional - useful for trip coordination</p>
    </div>

    <div class="flex items-center gap-2 pt-2">
      <input type="checkbox" id="create-canBeAddedByOthers" name="canBeAddedByOthers"
             class="rounded border-gray-300 text-blue-600 focus:ring-blue-500">
      <label for="create-canBeAddedByOthers" class="text-sm font-medium text-gray-700">
        Allow other users to add this companion to their trips
      </label>
    </div>
    <p class="text-xs text-gray-500 ml-6">When enabled, other users can find and add this companion to their trips. You can change this setting later.</p>

    <!-- Info Section -->
    <div class="pt-4 border-t border-gray-200">
      <h4 class="text-sm font-semibold text-gray-900 mb-3 flex items-center gap-2">
        <span class="material-symbols-outlined" style="font-size: 18px;">info</span>
        How Companion Linking Works
      </h4>
      <ul class="text-xs text-gray-600 space-y-2 ml-4">
        <li class="list-disc">If someone already has an account with this email, they'll be automatically linked</li>
        <li class="list-disc">If they create an account later, they'll automatically see trips you've added them to</li>
        <li class="list-disc">Linked companions can view trip details and remove themselves from trips</li>
        <li class="list-disc">You control whether they can edit trip items on a per-trip basis</li>
      </ul>
    </div>

    <!-- Action Buttons -->
    <div class="flex gap-3 pt-4 border-t border-gray-200">
      <button type="submit" class="inline-flex items-center px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700 transition-colors">
        <span class="material-symbols-outlined mr-2" style="font-size: 18px;">person_add</span>
        Add Companion
      </button>
      <button type="button" onclick="goBackInSidebar()" class="inline-flex items-center px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors">
        Cancel
      </button>
    </div>
  </form>
</div>
