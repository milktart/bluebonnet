import{f as J,a as T}from"../chunks/mgpANiac.js";import{h as oe}from"../chunks/C0UKtQpt.js";import{x as le,A,a as e,B as ne,e as de,y as i,C as s,s as a,w as c,$ as ce,E as r,n as Y}from"../chunks/6VQ_8qfV.js";import{e as f,s as D}from"../chunks/BgKsp-fi.js";import{i as Z}from"../chunks/DWD46BZK.js";import{r as y}from"../chunks/Djbzun47.js";import{b as h}from"../chunks/dsJstiAQ.js";import{i as me}from"../chunks/D4j-cL-r.js";var ue=J('<div class="rounded-lg bg-red-50 p-4 text-sm text-red-700 mb-4 border border-red-200"><div class="flex"><svg class="h-5 w-5 text-red-400 mr-3" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg> <span> </span></div></div>'),ve=J('<div class="rounded-lg bg-green-50 p-4 text-sm text-green-700 mb-4 border border-green-200"><div class="flex"><svg class="h-5 w-5 text-green-400 mr-3" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg> <span> </span></div></div>'),fe=J('<main class="flex flex-col justify-center flex-1 py-6 sm:px-6 lg:px-8 bg-gray-50 min-h-screen"><div class="sm:mx-auto sm:w-full sm:max-w-md"><div class="flex justify-center"><div class="w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center"><svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"></path></svg></div></div> <h2 class="mt-4 text-center text-3xl font-bold tracking-tight text-gray-900">Create your account</h2> <p class="mt-2 text-center text-sm text-gray-600">Join Travel Planner and start organizing your adventures</p></div> <div class="mt-6 sm:mx-auto sm:w-full sm:max-w-md"><!> <!> <div class="bg-white py-6 px-4 shadow-xl ring-1 ring-gray-900/5 sm:rounded-xl sm:px-10"><form class="space-y-4"><div class="grid grid-cols-1 gap-4 sm:grid-cols-2"><div><label for="firstName" class="block text-sm font-medium leading-6 text-gray-900">First name</label> <div class="mt-2"><input id="firstName" name="firstName" type="text" autocomplete="given-name" required class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6 px-3" placeholder="John"/></div></div> <div><label for="lastName" class="block text-sm font-medium leading-6 text-gray-900">Last initial</label> <div class="mt-2"><input id="lastName" name="lastName" type="text" autocomplete="family-name" required maxlength="1" class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6 px-3" placeholder="D"/></div></div></div> <div><label for="email" class="block text-sm font-medium leading-6 text-gray-900">Email address</label> <div class="mt-2"><input id="email" name="email" type="email" autocomplete="email" required class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6 px-3" placeholder="john@example.com"/></div></div> <div><label for="password" class="block text-sm font-medium leading-6 text-gray-900">Password</label> <div class="mt-2"><input id="password" name="password" type="password" autocomplete="new-password" required minlength="6" class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6 px-3" placeholder="Enter your password"/></div> <p class="mt-2 text-sm text-gray-500">Must be at least 6 characters long.</p></div> <div><label for="confirmPassword" class="block text-sm font-medium leading-6 text-gray-900">Confirm password</label> <div class="mt-2"><input id="confirmPassword" name="confirmPassword" type="password" autocomplete="new-password" required class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-blue-600 sm:text-sm sm:leading-6 px-3" placeholder="Confirm your password"/></div></div> <div><button type="submit" class="flex w-full justify-center rounded-md bg-blue-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"> </button></div></form> <div class="mt-6"><div class="relative"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-300"></div></div> <div class="relative flex justify-center text-sm"><span class="bg-white px-2 text-gray-500">Already have an account?</span></div></div> <div class="mt-6"><a href="/login" class="flex w-full justify-center rounded-md border border-gray-300 bg-white px-3 py-1.5 text-sm font-semibold text-gray-900 shadow-sm hover:bg-gray-50 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600 transition-colors duration-200">Sign in to your account</a></div></div></div></div></main>');function je(ee,te){le(te,!1);let g=c(""),v=c(""),p=c(""),m=c(""),w=c(""),x=c(!1),l=c(""),_=c("");async function S(t){if(t.preventDefault(),!e(g).trim()){a(l,"First name is required");return}if(!e(v).trim()||e(v).length>1){a(l,"Last initial must be a single character");return}if(!e(p).trim()){a(l,"Email is required");return}if(!e(m).trim()){a(l,"Password is required");return}if(e(m).length<6){a(l,"Password must be at least 6 characters");return}if(e(m)!==e(w)){a(l,"Passwords do not match");return}a(x,!0),a(l,""),a(_,"");try{const o=typeof window<"u"?window.location.protocol:"http:",n=typeof window<"u"?window.location.hostname:"localhost";let d;n==="localhost"||n==="127.0.0.1"?d=`${o}//localhost:3000`:d=`${o}//${n}:3501`;const u=await fetch(`${d}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:e(g),lastName:e(v),email:e(p),password:e(m)}),credentials:"include"});if(!u.ok){const ie=await u.json();throw new Error(ie.message||"Registration failed")}(await u.json()).success&&(a(_,"Account created successfully! Redirecting to login..."),a(l,""),a(g,""),a(v,""),a(p,""),a(m,""),a(w,""),setTimeout(()=>{window.location.href="/login"},1500))}catch(o){a(l,o instanceof Error?o.message:"Registration failed")}finally{a(x,!1)}}function b(t){t.key==="Enter"&&!e(x)&&S(t)}me();var k=fe();oe("52fghe",t=>{de(()=>{ce.title="Register"})});var F=i(s(k),2),O=s(F);{var se=t=>{var o=ue(),n=s(o),d=i(s(n),2),u=s(d,!0);r(d),r(n),r(o),A(()=>D(u,e(l))),T(t,o)};Z(O,t=>{e(l)&&t(se)})}var H=i(O,2);{var ae=t=>{var o=ve(),n=s(o),d=i(s(n),2),u=s(d,!0);r(d),r(n),r(o),A(()=>D(u,e(_))),T(t,o)};Z(H,t=>{e(_)&&t(ae)})}var K=i(H,2),j=s(K),N=s(j),P=s(N),G=i(s(P),2),C=s(G);y(C),r(G),r(P);var I=i(P,2),Q=i(s(I),2),q=s(Q);y(q),r(Q),r(I),r(N);var $=i(N,2),U=i(s($),2),z=s(U);y(z),r(U),r($);var E=i($,2),V=i(s(E),2),L=s(V);y(L),r(V),Y(2),r(E);var M=i(E,2),W=i(s(M),2),B=s(W);y(B),r(W),r(M);var X=i(M,2),R=s(X),re=s(R,!0);r(R),r(X),r(j),Y(2),r(K),r(F),r(k),A(()=>{R.disabled=e(x),D(re,e(x)?"Creating account...":"Create account")}),h(C,()=>e(g),t=>a(g,t)),f("keypress",C,b),h(q,()=>e(v),t=>a(v,t)),f("keypress",q,b),h(z,()=>e(p),t=>a(p,t)),f("keypress",z,b),h(L,()=>e(m),t=>a(m,t)),f("keypress",L,b),h(B,()=>e(w),t=>a(w,t)),f("keypress",B,b),f("submit",j,S),T(ee,k),ne()}export{je as component};
